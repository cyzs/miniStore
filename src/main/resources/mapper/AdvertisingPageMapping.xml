<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.example.hxsp.dao.AdvertisingPageDao">
    <resultMap id="result" type="com.example.hxsp.bean.AdvertisingPage">
        <id column="id" property="id"/>
        <result column="product_id" property="productId"/>
        <result column="type" property="type"/>
        <result column="path" property="path"/>
        <result column="image" property="image"/>
        <result column="sort" property="sort"/>
        <result column="is_show" property="isShow"/>
        <result column="create_time" property="createTime"/>
        <result column="update_time" property="updateTime"/>
    </resultMap>

<!--    查询所有-->
    <select id="findAllAds" resultType="com.example.hxsp.bean.AdvertisingPage" resultMap="result">
        select * from advertising_page
    </select>
    
    <!--    查询所有上架-->
    <select id="findAllAdsShow" resultType="com.example.hxsp.bean.AdvertisingPage" resultMap="result">
        select * from advertising_page where is_show=1
    </select>
    
 <!-- 上架 -->
    <update id="setOnSale" parameterType="com.example.hxsp.bean.AdvertisingPage">
        update advertising_page set is_show=1 where id=#{id}
    </update>
      <!-- 下架 -->
    <update id="setOffSale" parameterType="com.example.hxsp.bean.AdvertisingPage">
        update advertising_page set is_show=0 where id=#{id}
    </update>
    
    <update id="del" parameterType="com.example.hxsp.bean.AdvertisingPage">
        delete from advertising_page where id=#{id}
    </update>
    
     <update id="change" parameterType="com.example.hxsp.bean.AdvertisingPage">
        update advertising_page set 
        product_id=#{productId}, type=#{type}, path=#{path}, image=#{image}, sort=#{sort}, is_show=#{isShow}
        
         where id=#{id}
    </update>
    
    
   <!--  新增-->
	<insert id="save" parameterType="com.example.hxsp.bean.AdvertisingPage" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO advertising_page(product_id, type, path, image, sort, is_show)
        VALUES(#{productId}, #{type}, #{path}, #{image}, #{sort}, #{isShow})
    </insert>
 
</mapper>